<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">
        <h:body>
    	
    	<ui:composition template="/template/GNCPlantilla.xhtml">
    		<ui:define name ="titulo">
			        Nueva Enfermedad
			    </ui:define>
    		<ui:define name="contenido">
				 <header>  
					  <h3>Listad de Terneras Enfermas</h3>
				 </header>
				<h:form>
					    <p:dataTable id="tablaternerasEnfermasDT" var="ternerasEnfermasDT" value="#{TerneraEnferma.ternerasEnfermas}" widgetVar="terneraEnfermaTabla" multiViewState="true"
					                 rows="10" paginator="true"
					                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					                 rowsPerPageTemplate="5,10,15"
					                 selectionMode="single" selection="#{TerneraEnferma.terneraEnfermaSeleccionada}" rowKey="#{ternerasEnfermasDT.id}"
					                 emptyMessage="No cars found with given criteria" filteredValue="#{TerneraEnferma.filtrarTernerasEnfermas}">
						 
						        <f:facet name="header">
						            <p:outputPanel>
						                <h:outputText value="Buscar en todas las filas:" />
						                <p:inputText id="globalFilter" onkeyup="PF('terneraEnfermaTabla').filter()" style="width:150px" placeholder="Ingrese Palabra"/>
						            </p:outputPanel>
						        </f:facet>
						 			<p:ajax event="rowSelect" update="" oncomplete="PF('enferDialog').show()" />
						        <!--  <p:ajax event="rowSelect" update=":form:enferDetail" oncomplete="PF('enferDialog').show()" />-->
						 
						        <p:column headerText="Id Ternera" filterBy="#{ternerasEnfermasDT.ternera.idTernera}" sortBy="#{ternerasEnfermasDT.ternera.idTernera}" filterMatchMode="contains">
						            <h:outputText value="#{ternerasEnfermasDT.ternera.idTernera}" />
						        </p:column>
						 
						        <p:column headerText="Caravana" filterBy="#{ternerasEnfermasDT.ternera.nroCaravana}" sortBy="#{ternerasEnfermasDT.ternera.nroCaravana}" filterMatchMode="startsWith">
						            <h:outputText value="#{ternerasEnfermasDT.ternera.nroCaravana}" />
						        </p:column>
						        <p:column headerText="Id Enferm." filterBy="#{ternerasEnfermasDT.enfermedad.idEnfermedad}" sortBy="#{ternerasEnfermasDT.enfermedad.idEnfermedad}" filterMatchMode="contains">
						            <h:outputText value="#{ternerasEnfermasDT.enfermedad.idEnfermedad}" />
						        </p:column>
						 
						        <p:column headerText="N. Enfer." filterBy="#{ternerasEnfermasDT.enfermedad.nombre}" sortBy="#{ternerasEnfermasDT.enfermedad.nombre}" filterMatchMode="startsWith">
						            <h:outputText value="#{ternerasEnfermasDT.enfermedad.nombre}" />
						        </p:column>
						        						        
						        <p:column headerText="F. Ini." filterBy="#{ternerasEnfermasDT.id.fechaDesde}" sortBy="#{ternerasEnfermasDT.id.fechaDesde}" filterMatchMode="contains">
						            <h:outputText value="#{ternerasEnfermasDT.id.fechaDesde}" >
						           	 	<f:convertDateTime pattern="dd/MM/yyyy" />
									</h:outputText>
						        </p:column>
						 
						        <p:column headerText="F. Fin" filterBy="#{ternerasEnfermasDT.fechaHasta}" sortBy="#{ternerasEnfermasDT.fechaHasta}" filterMatchMode="startsWith">
						            <h:outputText value="#{ternerasEnfermasDT.fechaHasta}" >
									    <f:convertDateTime pattern="dd/MM/yyyy" />
									</h:outputText>
						        </p:column>						        
						        <p:column headerText="Notas" filterBy="#{ternerasEnfermasDT.observacion}" sortBy="#{ternerasEnfermasDT.observacion}" filterMatchMode="contains">
						            <h:outputText value="#{ternerasEnfermasDT.observacion}" />
						        </p:column>


						    </p:dataTable>
						 
						    <p:dialog header="Enfermedad" widgetVar="enferDialog" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
						        <p:outputPanel id="enferDetail" style="text-align:center;">
						            <p:panelGrid  columns="2" rendered="#{not empty TerneraEnferma.terneraEnfermaSeleccionada}" columnClasses="label,value">
						 
						                <h:outputText value="Id Ternera:" />
						                <h:outputText value="#{TerneraEnferma.terneraEnfermaSeleccionada.ternera.idTernera}" />
						 
						                <h:outputText value="Caravana:" />
						                <h:outputText value="#{TerneraEnferma.terneraEnfermaSeleccionada.ternera.nroCaravana}" />
						 
						 				<h:outputText value="Id Enfermedad:" />
						                <h:outputText value="#{TerneraEnferma.terneraEnfermaSeleccionada.enfermedad.idEnfermedad}" />
						                
						                <h:outputText value="Nombre Enf.:" />
						                <h:outputText value="#{TerneraEnferma.terneraEnfermaSeleccionada.enfermedad.nombre.nombre}" />
										    
						 				<h:outputText value="Fecha Ini:" />
						                <h:outputText value="#{TerneraEnferma.terneraEnfermaSeleccionada.id.fechaDesde}" >
										    <f:convertDateTime pattern="dd/MM/yyyy" />
										</h:outputText>
						                
						                <h:outputText value="Fecha Fin:" />
						                <h:outputText value="#{TerneraEnferma.terneraEnfermaSeleccionada.fechaHasta}" >
						 					<f:convertDateTime pattern="dd/MM/yyyy" />
										</h:outputText>
						 				<h:outputText value="Observaciones:" />
						                <h:outputText value="#{TerneraEnferma.terneraEnfermaSeleccionada.observacion}" />						                
						            </p:panelGrid>
						        </p:outputPanel>
						    </p:dialog>
						</h:form>
    		</ui:define>
    		
    	</ui:composition>
    	
    </h:body>

</html>